<template>
  <div class="harmony-home">
    <!-- é¦–é¡µæ¨ªå¹… -->
    <section class="harmony-hero">
      <div class="harmony-container">
        <div class="harmony-hero-content">
          <div class="harmony-hero-text">
            <h2 class="harmony-hero-title">
              <span class="harmony-text-gradient">ä¸“ä¸šæ±½è½¦ä¿å…»</span>
              <br>åœ¨çº¿è½»æ¾é¢„çº¦
            </h2>
            <p class="harmony-hero-subtitle">å‘Šåˆ«æ’é˜Ÿç­‰å¾…ï¼Œäº«å—ä¾¿æ·çš„æ±½è½¦ä¿å…»æœåŠ¡</p>
            <div class="harmony-hero-actions">
              <el-button 
                type="primary" 
                size="large" 
                @click="goToShops" 
                class="harmony-btn harmony-btn-primary harmony-btn-large"
              >
                <el-icon><calendar /></el-icon>
                ç«‹å³é¢„çº¦
              </el-button>
              <el-button 
                size="large" 
                @click="learnMore"
                class="harmony-btn harmony-btn-ghost harmony-btn-large"
              >
                <el-icon><info-filled /></el-icon>
                äº†è§£æ›´å¤š
              </el-button>
            </div>
          </div>
          <div class="harmony-hero-image">
            <div class="harmony-hero-car">ğŸš—</div>
            <div class="harmony-hero-decorations">
              <div class="harmony-decoration harmony-decoration-1">âš™ï¸</div>
              <div class="harmony-decoration harmony-decoration-2">ğŸ”§</div>
              <div class="harmony-decoration harmony-decoration-3">ğŸ› ï¸</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- æœåŠ¡ç‰¹è‰² -->
    <section class="harmony-features">
      <div class="harmony-container">
        <h3 class="harmony-section-title">
          <span class="harmony-text-gradient">ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬</span>
        </h3>
        <div class="harmony-features-grid">
          <div class="harmony-feature-card" v-for="(feature, index) in features" :key="index">
            <div class="harmony-feature-icon">{{ feature.icon }}</div>
            <h4 class="harmony-feature-title">{{ feature.title }}</h4>
            <p class="harmony-feature-desc">{{ feature.description }}</p>
            <div class="harmony-feature-badge">{{ feature.badge }}</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ç»Ÿè®¡æ•°æ® -->
    <section class="harmony-stats">
      <div class="harmony-container">
        <div class="harmony-stats-grid">
          <div class="harmony-stat-item" v-for="(stat, index) in stats" :key="index">
            <div class="harmony-stat-number">{{ stat.number }}</div>
            <div class="harmony-stat-label">{{ stat.label }}</div>
          </div>
        </div>
      </div>
    </section>

    <!-- å¿«é€Ÿå…¥å£ -->
    <section class="harmony-quick-actions">
      <div class="harmony-container">
        <h3 class="harmony-section-title">å¿«é€Ÿå…¥å£</h3>
        <div class="harmony-actions-grid">
          <div 
            class="harmony-action-card" 
            v-for="(action, index) in quickActions" 
            :key="index"
            @click="handleQuickAction(action)"
          >
            <div class="harmony-action-icon">{{ action.icon }}</div>
            <h4 class="harmony-action-title">{{ action.title }}</h4>
            <p class="harmony-action-desc">{{ action.description }}</p>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script>
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { Calendar, InfoFilled } from '@element-plus/icons-vue'
import { ElMessage } from 'element-plus'

export default {
  name: 'Home',
  components: {
    Calendar,
    InfoFilled
  },
  setup() {
    const router = useRouter()

    // ç‰¹è‰²åŠŸèƒ½æ•°æ®
    const features = ref([
      {
        icon: 'â°',
        title: 'åœ¨çº¿é¢„çº¦',
        description: 'éšæ—¶éšåœ°é¢„çº¦ï¼Œæ— éœ€ç­‰å¾…',
        badge: 'ä¾¿æ·'
      },
      {
        icon: 'ğŸª',
        title: 'ä¸“ä¸šé—¨åº—',
        description: 'ä¸¥é€‰ä¼˜è´¨é—¨åº—ï¼ŒæœåŠ¡æœ‰ä¿éšœ',
        badge: 'ä¸“ä¸š'
      },
      {
        icon: 'ğŸ’°',
        title: 'ä»·æ ¼é€æ˜',
        description: 'æ˜ç æ ‡ä»·ï¼Œæ— éšå½¢æ¶ˆè´¹',
        badge: 'é€æ˜'
      },
      {
        icon: 'â­',
        title: 'çœŸå®è¯„ä»·',
        description: 'ç”¨æˆ·çœŸå®è¯„ä»·ï¼Œé€‰æ‹©æ›´æ”¾å¿ƒ',
        badge: 'å¯ä¿¡'
      }
    ])

    // ç»Ÿè®¡æ•°æ®
    const stats = ref([
      { number: '1000+', label: 'åˆä½œé—¨åº—' },
      { number: '50000+', label: 'æœåŠ¡ç”¨æˆ·' },
      { number: '98%', label: 'æ»¡æ„åº¦' },
      { number: '24h', label: 'åœ¨çº¿æœåŠ¡' }
    ])

    // å¿«é€Ÿå…¥å£
    const quickActions = ref([
      {
        icon: 'ğŸ”',
        title: 'æŸ¥æ‰¾é—¨åº—',
        description: 'æ‰¾åˆ°é™„è¿‘çš„ä¿å…»é—¨åº—',
        action: 'shops'
      },
      {
        icon: 'ğŸ“…',
        title: 'æˆ‘çš„é¢„çº¦',
        description: 'æŸ¥çœ‹é¢„çº¦è®°å½•',
        action: 'appointments'
      },
      {
        icon: 'ğŸ“‹',
        title: 'æˆ‘çš„è®¢å•',
        description: 'è®¢å•ç®¡ç†ä¸­å¿ƒ',
        action: 'orders'
      },
      {
        icon: 'â­',
        title: 'æˆ‘çš„è¯„ä»·',
        description: 'æŸ¥çœ‹æœåŠ¡è¯„ä»·',
        action: 'reviews'
      }
    ])

    const goToShops = () => {
      router.push('/shops')
    }

    const learnMore = () => {
      ElMessage.info('äº†è§£æ›´å¤šåŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...')
    }

    const handleQuickAction = (action) => {
      switch (action.action) {
        case 'shops':
          router.push('/shops')
          break
        case 'appointments':
          router.push('/my-appointments')
          break
        case 'orders':
          router.push('/my-orders')
          break
        case 'reviews':
          router.push('/my-reviews')
          break
        default:
          ElMessage.info(`${action.title}åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...`)
      }
    }

    return {
      features,
      stats,
      quickActions,
      goToShops,
      learnMore,
      handleQuickAction
    }
  }
}
</script>

<style scoped>
.harmony-home {
  animation: harmony-fadeIn 0.8s ease-out;
}

/* è‹±é›„åŒºåŸŸ */
.harmony-hero {
  background: var(--harmony-gradient-1);
  color: white;
  padding: var(--harmony-space-2xl) 0;
  position: relative;
  overflow: hidden;
}

.harmony-hero::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
  animation: harmony-float 20s ease-in-out infinite;
}

.harmony-hero-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--harmony-space-2xl);
  align-items: center;
  position: relative;
  z-index: 1;
}

.harmony-hero-title {
  font-size: 3.5rem;
  font-weight: 700;
  margin-bottom: var(--harmony-space-lg);
  line-height: 1.2;
}

.harmony-hero-subtitle {
  font-size: 1.3rem;
  margin-bottom: var(--harmony-space-xl);
  opacity: 0.9;
  line-height: 1.6;
}

.harmony-hero-actions {
  display: flex;
  gap: var(--harmony-space-lg);
  flex-wrap: wrap;
}

.harmony-hero-image {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

.harmony-hero-car {
  font-size: 8rem;
  animation: harmony-float 6s ease-in-out infinite;
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
}

.harmony-hero-decorations {
  position: absolute;
  width: 100%;
  height: 100%;
}

.harmony-decoration {
  position: absolute;
  font-size: 2rem;
  opacity: 0.7;
}

.harmony-decoration-1 {
  top: 20%;
  left: 10%;
  animation: harmony-float 8s ease-in-out infinite;
}

.harmony-decoration-2 {
  top: 60%;
  right: 20%;
  animation: harmony-float 10s ease-in-out infinite reverse;
}

.harmony-decoration-3 {
  bottom: 20%;
  left: 30%;
  animation: harmony-float 12s ease-in-out infinite;
}

/* ç‰¹è‰²åŠŸèƒ½ */
.harmony-features {
  padding: var(--harmony-space-2xl) 0;
  background: var(--harmony-bg-secondary);
}

.harmony-section-title {
  text-align: center;
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: var(--harmony-space-2xl);
  color: var(--harmony-text-primary);
}

.harmony-features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--harmony-space-xl);
}

.harmony-feature-card {
  background: var(--harmony-bg-primary);
  border-radius: var(--harmony-radius-lg);
  padding: var(--harmony-space-xl);
  text-align: center;
  box-shadow: var(--harmony-shadow-sm);
  transition: all var(--harmony-transition-base);
  border: 1px solid var(--harmony-border);
  position: relative;
  overflow: hidden;
}

.harmony-feature-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--harmony-primary-gradient);
  transform: scaleX(0);
  transition: transform var(--harmony-transition-base);
}

.harmony-feature-card:hover {
  transform: translateY(-8px);
  box-shadow: var(--harmony-shadow-lg);
}

.harmony-feature-card:hover::before {
  transform: scaleX(1);
}

.harmony-feature-icon {
  font-size: 4rem;
  margin-bottom: var(--harmony-space-lg);
  background: var(--harmony-primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.harmony-feature-title {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: var(--harmony-space-md);
  color: var(--harmony-text-primary);
}

.harmony-feature-desc {
  color: var(--harmony-text-secondary);
  line-height: 1.6;
  margin-bottom: var(--harmony-space-lg);
}

.harmony-feature-badge {
  display: inline-block;
  padding: 6px 16px;
  background: var(--harmony-primary-light);
  color: var(--harmony-primary);
  border-radius: var(--harmony-radius-full);
  font-size: 0.9rem;
  font-weight: 500;
}

/* ç»Ÿè®¡æ•°æ® */
.harmony-stats {
  padding: var(--harmony-space-2xl) 0;
  background: var(--harmony-bg-primary);
}

.harmony-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--harmony-space-xl);
}

.harmony-stat-item {
  text-align: center;
  padding: var(--harmony-space-lg);
}

.harmony-stat-number {
  font-size: 3rem;
  font-weight: 700;
  background: var(--harmony-primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: var(--harmony-space-sm);
}

.harmony-stat-label {
  color: var(--harmony-text-secondary);
  font-size: 1.1rem;
  font-weight: 500;
}

/* å¿«é€Ÿå…¥å£ */
.harmony-quick-actions {
  padding: var(--harmony-space-2xl) 0;
  background: var(--harmony-bg-secondary);
}

.harmony-actions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--harmony-space-lg);
}

.harmony-action-card {
  background: var(--harmony-bg-primary);
  border-radius: var(--harmony-radius-lg);
  padding: var(--harmony-space-xl);
  text-align: center;
  box-shadow: var(--harmony-shadow-sm);
  transition: all var(--harmony-transition-base);
  cursor: pointer;
  border: 1px solid var(--harmony-border);
  position: relative;
  overflow: hidden;
}

.harmony-action-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, transparent 0%, rgba(0, 125, 255, 0.05) 100%);
  opacity: 0;
  transition: opacity var(--harmony-transition-base);
}

.harmony-action-card:hover {
  transform: translateY(-6px);
  box-shadow: var(--harmony-shadow-xl);
}

.harmony-action-card:hover::after {
  opacity: 1;
}

.harmony-action-icon {
  font-size: 3rem;
  margin-bottom: var(--harmony-space-lg);
  position: relative;
  z-index: 1;
}

.harmony-action-title {
  font-size: 1.3rem;
  font-weight: 600;
  margin-bottom: var(--harmony-space-sm);
  color: var(--harmony-text-primary);
  position: relative;
  z-index: 1;
}

.harmony-action-desc {
  color: var(--harmony-text-secondary);
  line-height: 1.6;
  position: relative;
  z-index: 1;
}

/* æŒ‰é’®å¢å¼º */
.harmony-btn-large {
  padding: 16px 32px !important;
  font-size: 1.1rem !important;
  font-weight: 600;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .harmony-hero-content {
    grid-template-columns: 1fr;
    text-align: center;
    gap: var(--harmony-space-xl);
  }
  
  .harmony-hero-title {
    font-size: 2.5rem;
  }
  
  .harmony-hero-subtitle {
    font-size: 1.1rem;
  }
  
  .harmony-hero-actions {
    justify-content: center;
  }
  
  .harmony-hero-car {
    font-size: 6rem;
  }
  
  .harmony-section-title {
    font-size: 2rem;
  }
  
  .harmony-features-grid,
  .harmony-actions-grid {
    grid-template-columns: 1fr;
  }
  
  .harmony-stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 480px) {
  .harmony-hero {
    padding: var(--harmony-space-xl) 0;
  }
  
  .harmony-hero-title {
    font-size: 2rem;
  }
  
  .harmony-hero-actions {
    flex-direction: column;
    align-items: center;
  }
  
  .harmony-btn-large {
    width: 100%;
    max-width: 280px;
  }
  
  .harmony-stats-grid {
    grid-template-columns: 1fr;
  }
  
  .harmony-stat-number {
    font-size: 2.5rem;
  }
}

/* åŠ¨ç”»å¢å¼º */
.harmony-feature-card,
.harmony-action-card,
.harmony-stat-item {
  animation: harmony-slideUp 0.6s ease-out;
}

.harmony-feature-card:nth-child(1) { animation-delay: 0.1s; }
.harmony-feature-card:nth-child(2) { animation-delay: 0.2s; }
.harmony-feature-card:nth-child(3) { animation-delay: 0.3s; }
.harmony-feature-card:nth-child(4) { animation-delay: 0.4s; }

.harmony-action-card:nth-child(1) { animation-delay: 0.1s; }
.harmony-action-card:nth-child(2) { animation-delay: 0.2s; }
.harmony-action-card:nth-child(3) { animation-delay: 0.3s; }
.harmony-action-card:nth-child(4) { animation-delay: 0.4s; }
</style>